<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="qzwslrm">
<title>How To Use qzwslrm • qzwslrm</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How To Use qzwslrm">
<meta property="og:description" content="qzwslrm">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">qzwslrm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/generate_qzwslrm_test_data.html">Generate Test Data for qzwslrm</a>
    <a class="dropdown-item" href="../articles/howto.html">How To Use qzwslrm</a>
    <a class="dropdown-item" href="../articles/qzwslrm_dev.html">Development of Package qzwslrm</a>
    <a class="dropdown-item" href="../articles/qzwslrm_ebv_mix99.html">Prediction of Breeding Values Using MiX99</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>How To Use qzwslrm</h1>
            
      
      
      <div class="d-none name"><code>howto.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">qzwslrm</span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package <code>qzwslrm</code> can be installed from Github</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># if (!is.element("devtools", installed.packages()) install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"fbzwsqualitasag/qzwslrm"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>This is a short introduction on how to use the package
<code>qzwslrm</code>.</p>
</div>
<div class="section level2">
<h2 id="abstract">Abstract<a class="anchor" aria-label="anchor" href="#abstract"></a>
</h2>
<p>The package <code>qzwslrm</code> implements the computation of the
EBV validation statistics using the LR-method. This requires two vectors
with EBV for the same group of animals. One vector contains EBV for the
group of animals estimated using the full dataset (‘whole’) and the
second vector contains EBV for the same group of animals estimated using
only a partial dataset (‘partial’).</p>
<p>Given two vectors <code>vec_ebv_whole</code> and
<code>vec_ebv_partial</code> with EBV for the same group of animals from
whole data and partial data, respectively, the following command
computes a first set of validation statistics.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">l_val_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/val_ebv_lrm.html">val_ebv_lrm</a></span><span class="op">(</span>pvec_ebv_partial <span class="op">=</span> <span class="va">tbl_solani_partial</span><span class="op">$</span><span class="va">ebv</span>, 
                            pvec_ebv_whole <span class="op">=</span> <span class="va">tbl_solani_whole</span><span class="op">$</span><span class="va">ebv</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>As shown above, the function <code><a href="../reference/val_ebv_lrm.html">val_ebv_lrm()</a></code> is the
central function that computes the validation statistics. The function
<code><a href="../reference/val_ebv_lrm.html">val_ebv_lrm()</a></code> returns a list with all validation
statistics. The results can be shown using the summary function
<code><a href="../reference/summary_lrm.html">summary_lrm()</a></code> or by converting them into a tibble.</p>
</div>
<div class="section level2">
<h2 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h2>
<p>The function <code><a href="../reference/summary_lrm.html">summary_lrm()</a></code> can be used to show a summary
of the validation statistics</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/summary_lrm.html">summary_lrm</a></span><span class="op">(</span><span class="va">l_val_result</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Bias between partial and whole:  -0.0061</span>
<span class="co">#&gt; Regression whole on partial:         1.0377</span>
<span class="co">#&gt; Correlation whole and partial:       0.9873</span>
<span class="co">#&gt; Regression partial on whole:         0.9393</span></code></pre></div>
<p>If the results should be displayed as a table this can be done by
converting it to a tibble and using then the function
<code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tbl_lrm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tibble_lrm.html">tibble_lrm</a></span><span class="op">(</span><span class="va">l_val_result</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">tbl_lrm</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Validation Statistic</th>
<th align="right">Value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Bias between partial and whole</td>
<td align="right">-0.0061</td>
</tr>
<tr class="even">
<td align="left">Regression whole on partial</td>
<td align="right">1.0377</td>
</tr>
<tr class="odd">
<td align="left">Correlation whole and partial</td>
<td align="right">0.9873</td>
</tr>
<tr class="even">
<td align="left">Regression partial on whole</td>
<td align="right">0.9393</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="scatterplot">Scatterplot<a class="anchor" aria-label="anchor" href="#scatterplot"></a>
</h2>
<p>The comparison of the two vectors of EBV can also be illustrated by a
scatterplot. Such a plot can be generated using the function
<code><a href="../reference/scatterplot_lrm.html">scatterplot_lrm()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tbl_ebv_whole</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readr_ebv.html">readr_ebv</a></span><span class="op">(</span>ps_path <span class="op">=</span> <span class="fu"><a href="../reference/qzwslrm_example_solani.html">qzwslrm_example_solani</a></span><span class="op">(</span><span class="st">"whole"</span><span class="op">)</span>, ps_format <span class="op">=</span> <span class="st">"table"</span>,
                            pn_ebv_col_idx <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="va">tbl_ebv_partial</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readr_ebv.html">readr_ebv</a></span><span class="op">(</span>ps_path <span class="op">=</span> <span class="fu"><a href="../reference/qzwslrm_example_solani.html">qzwslrm_example_solani</a></span><span class="op">(</span><span class="st">"partial"</span><span class="op">)</span>, ps_format <span class="op">=</span> <span class="st">"table"</span>,
                              pn_ebv_col_idx <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scatterplot_lrm.html">scatterplot_lrm</a></span><span class="op">(</span><span class="va">tbl_ebv_whole</span>, <span class="va">tbl_ebv_partial</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></code></pre></div>
<p><img src="howto_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>The above plot shows for each animal the pair of EBV from the whole
and from the partial dataset. The blue line corresponds to the linear
smoother which is drawn based on the points. The red line corresponds to
the line with a slope equal to one which is the expected regression line
for the ‘whole’ on the ‘partial’ EBV.</p>
<p>The function <code><a href="../reference/scatterplot_lrm.html">scatterplot_lrm()</a></code> requires as input two
dataframes with two columns. The first column contains the animal ID and
the second column contains the EBV.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Peter von Rohr.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
